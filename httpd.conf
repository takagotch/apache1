//host dir
RewriteCond "%{HTTP_HOST}" "^([^.]+)\.exapmle\.com" [NC]
RewriteRule "(.*)" "httpL//example.com/%1$1" [R]"

RewriteCond "%{HTTP_HOST}" "^()\.example\.com$"[NC]
RewirteRule "(.*)" "/%1$1" [PT]

//URL query
RewriteRule "/(.*)" "/cgi-bin/remap?page=$1" [QSA,PT]

//AliasMatch ScriptAliasMatch RedirectMatch
AliasMatch "/users/(.*)/" "/home/webonly/$1"
RedirectMatch permanent "/projects/(^/)+(/.*)" "http://$1.projectdomain.com$2"

//host redirect
RewriteCond "{%HTTP_HOST}"   "!^www.example.com" [NC,OR]
RewriteCond "%{SERVER_NAME}" "!www.example.com" [NC]
RewriteRule "(.*)"           "http://www.example.com$1" [R]

//doc argument
RewriteRule "^/dir/([^./]*)\.html" "/dir/script.cgi?doc=$1" [PT]

//URL query PATH
RewriteRule "^(/path/to)/(\d+)" "$1?id=$2" [PT]

RewriteCond "%{QUERY_STRING}" "\bid=(\d+)\b"
RewriteRule "(/path/to)" "$1%2" [PT,QSA]

//dir host
RewriteRule "^/(patha|pathb|pathc)(/.*)" "http://$1.example.com$2" [R]
RewriteRule "^/([^./]*)(/.*)" "http://$1.example.com$2" [R]
RewriteRule "^/~([^./]*)(/.*)" "http://$1.example.com$2" [R]

//query
RewriteCond "%{QUERY_STRING}" "^user=([^=]*)"
RewriteRule "/people" "http://%1.users.example.com/" [R]

//SSL redirect
RewriteCond "%{SERVER_PORT}" "^80$"
RewriteRule "^(.*)$" "https://%{SERVER_NAME}$1" [R,L]

RewriteRule "^/normal/secure(/.*)" "https://%{HTTP_HOST}$1" [R,L]

RewriteCond "%{HTTPS}" "!=on"
RewriteRule "^(/secure/.*)" "https://%{HTTP_HOST}$1" [R,L]

Redirect "/" "https://secure.example.com/"

//Referer 
RewriteEngine On
RewriteCond "%{HTTP_REFERER}" "^$"
RewriteRule "(.*)" "/cgi-bin/need-referer" [PT,E=ORIG:$1]

//deny access
Rewrite Engine On
RewriteCond "%{HTTP_REFERER}" !=""
RewriteCond "%{HTTP_REFERER}" "!^http://mysite.com/.*$" [NC]
RewriteRule "\.(jpg|gif|png)$ = [F]

//CGI arg
RewriteEngine on
RewriteRule "^/book([^/]*)/([^/]*)" "/cgi-bin/book.cgi?subject=$1&author=$2" [PT]

//URL req
RewriteRule "(.*)string(.*)" "$1string$2" [N,PT]

//.php ln
RewriteRule "^(.+\.php)s$" "$1" [T=application/x-httpd-php-source]
RewriteRule "^(.+\.php)s$" "$1" [H=application/x-httpd-php-source]

RewriteRule "^(.*\.php)s$" "/cgi-bin/show.php?file=$1" [PT,L]

//URL redirect 
RedirectMatch "^/[fF]ish(ing)?(/.*)?" "http://fish.example.com/$2"

//redirect
Redirect "/example" "http://www2.example.com/new/location"

Redirect /foo.html http://example.com/under-construction/foo.html
Redirect /foo.html http://example.com/under-construction/foo.html
Redirect /foo.html http://example.com/under-construction/foo.html

Redirect permanent /foo.html http://example.com/relocated/foo.html
RedirectPermanent /foo.html http://example.com/relocated/foo.html

Redirect seether /foo.html http://example.com/relocaetd/bar.html
Redirect gone /foo.html

//URL cgi
ScriptAliasMatch "^/[sS]cripts?|cgi(-bin)?/" "/www/cgi-bin/"

//usr cgi dir
<Directory "/home/*/public_html/cgi-bin/">
  Options ExecCGI
  SetHandler cgi-script
</Directory>
ScriptAliasMatch "/~(^[^/]+)/cgi-bin/(.*)" "/home/$1/public_html/cgi-bin/$2"

//URL Alias
AliasMatch "^/pupp(yies)" "/www/docs/small_dogs"
AliasMatch "^/P-([[:alnum:]])([^/]*)" "/usr/local/projects/$1/$1$2"

//URL
UserDir public_html
UserDir "/www/users/*/htdocs"

RewriteEngine On
RewriteCond "/home/$1/public_html" -d [NC]
RewriteRule "^/([^/]+)/(.*)" "/home/$1/public_html/$2"

/*
mod_rewrite
<Perl>
my %forbid = map { $_ => 1 } qw(root postgres bob);
opendir H, '/home/';
my @dir = readdir(H);
closedir H;
foreach my $u (@dir){
  next if $u =~ m/^\./;
  next if $forbid{$u};
  if(-e "/home/$u/public_html"){
    push @Alias, "/$u/", "/home/$u/public_html/";
  }
}
</Perl>
*/

<Directory "/home/*/public_html">
  AllowOverride FileInfo AuthConfig Limit
  Options MultiViews Indexes SymLinksIfOwnerMatch IncludesNoExec
  <Limit GET POST OPTIONS PROPFIND>
    Order allow,deny
    Allow from all
  </Limit>
  <LimitExcept GET POST OPTIONS PROFIND>
    Order deny,allow
    Deny from all
  </LimitExcept>
</Directory>

//URL
Alias "/newurl" "/www/htdocs/oldurl"

//URL dir
Alias "/desired-URL-prefix" "/path/to/other/directory"

<Directory "/path/to/other/directory">
  Order allow,deny
  Allow from all
</Directory>

Alias "/puppies/" "/www/docs/puppies/"
Alias "/icons/" "/usr/local/apache/icons"

---

//usrdir log
CustomLog "|/usr/local/apache/bin/userdir_log" comined

//syslog
ErrorLog syslog:user

CustomLog |/usr/local/apache/bin/apache_syslog combined

AccessLog "|/usr/bin/logger" combined

//mysql log
<IfModule mod_log_sql.c>
  LogSQLLoginInfo mysql://webserver:wwwpw@dbmachine.example.com/apache_log
  LogSQLCreateTables on
</IfModule>

LogSQLTransferLogTable access_log

//res head log
%{Last-Modified}o

//res head log
%{Host}i

CustomLog logs/accept_log "\"%{Accept}i\""

//browser log
%{User-Agent}i

//refer log
%{Referer}i

//sv ip log
CustomLog logs/served-by.log "%A"

//Vhost err log
ErrorLog "| tee logfile1 | tee logfile2 > logfile3"

//proxy req log
<Directory proxy:*>
  SetEnv is_proxyied 1
</Directory>
CustomLog logs/proxy_log combined env=is_proxyied

<Proxy *>
  SetEnv is_proxied 1
</Proxy>
CustomLog logs/proxy_log combined env=is_proxied

<Directory proxy:*>
  RewriteEngine On
  RewriteRule "\.(gif|png|jpg)$" "-" [ENV=proxied_image:1]
  RewriteCond "%{ENV:proxied_image}" "!1"
  RewriteRule "^" "-" [ENV=proxied_other:1]
</Directory>
CustomLog logs/proxy_image_log combined env=proxied_image
CustomLog logs/proxy_other_log combined env=proxied_other


//Vhost log
CustomLog "| /path/to/split-logfile /path/to/logs" combined

//



